<!DOCTYPE html>
<html lang="en">
<head>
    <hi>header</hi>
</head>
<body>
    <header>
        <hi>hider</hi>
    </header>

    <main class="main">
        <h1 id="mentortitle">Mentor</h1>
        <br>
        <table id="data-table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <!-- Data will be populated here -->
            </tbody>
        </table>
    </main>

    <script>
        var mentors; // Declare a global variable to store mentor data

        // Your first code snippet (fetching mentor data)
        fetchMentorData()
            .then(data => {
                mentors = data; // Store the data in the global variable
            })
            .catch(error => {
                console.error('Error fetching mentor data:', error);
            });

        // Your second code snippet (populating the table)
        document.addEventListener("DOMContentLoaded", function () {
            const tableBody = document.querySelector("#data-table tbody");

            // Wait for mentors to be available
            function populateTable() {
                if (!mentors) {
                    setTimeout(populateTable, 100); // Wait for mentors data
                    return;
                }

                // Loop through the mentors data and populate the table
                mentors.forEach(function (mentor) {
                    var newRow = tableBody.insertRow(tableBody.rows.length);
                    var cell1 = newRow.insertCell(0);
                    var cell2 = newRow.insertCell(1);

                    cell1.innerHTML = mentor.Name;
                    cell2.innerHTML = '<button class="typeButton">Select</button>';
                });
            }

            populateTable();
        });
    </script>

    <script src="script.js"></script>
</body>
</html>

